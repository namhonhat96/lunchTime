{"ast":null,"code":"import _slicedToArray from\"/Users/nnho/Desktop/DeployApp/chatApp/sweetthyme/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _this=this;import{useState}from'react';import{SendOutlined,PictureOutlined}from'@ant-design/icons';import{sendMessage,isTyping}from'react-chat-engine';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MessageForm=function MessageForm(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var chatId=props.chatId,creds=props.creds;setTimeout(function(){localStorage.removeItem('isTyping');},1500);var handleChange=function handleChange(event){setValue(event.target.value);isTyping(props,chatId);localStorage.setItem('isTyping',true);};var handleSubmit=function handleSubmit(event){event.preventDefault();var text=value.trim();if(text.length>0){sendMessage(creds,chatId,{text:text});}setValue('');};var handleUpload=function handleUpload(event){sendMessage(creds,chatId,{files:event.target.files,text:''});};return/*#__PURE__*/_jsxs(\"form\",{className:\"message-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{className:\"message-input\",placeholder:\"Send a message...\",value:value,onChange:handleChange,onSubmit:handleSubmit}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"upload-button\",children:/*#__PURE__*/_jsx(\"span\",{className:\"image-button\",children:/*#__PURE__*/_jsx(PictureOutlined,{className:\"picture-icon\"})})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:false,id:\"upload-button\",style:{display:'none'},onChange:handleUpload.bind(_this)}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"send-button\",children:/*#__PURE__*/_jsx(SendOutlined,{className:\"send-icon\"})})]});};export default MessageForm;","map":{"version":3,"sources":["/Users/nnho/Desktop/DeployApp/chatApp/sweetthyme/src/components/MessageForm.jsx"],"names":["useState","SendOutlined","PictureOutlined","sendMessage","isTyping","MessageForm","props","value","setValue","chatId","creds","setTimeout","localStorage","removeItem","handleChange","event","target","setItem","handleSubmit","preventDefault","text","trim","length","handleUpload","files","display","bind"],"mappings":"sLAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAASC,YAAT,CAAuBC,eAAvB,KAA8C,mBAA9C,CACA,OAASC,WAAT,CAAsBC,QAAtB,KAAsC,mBAAtC,C,wFAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,eACHN,QAAQ,CAAC,EAAD,CADL,wCACtBO,KADsB,eACfC,QADe,kBAErBC,CAAAA,MAFqB,CAEHH,KAFG,CAErBG,MAFqB,CAEbC,KAFa,CAEHJ,KAFG,CAEbI,KAFa,CAI7BC,UAAU,CAAC,UAAM,CACfC,YAAY,CAACC,UAAb,CAAwB,UAAxB,EACD,CAFS,CAEP,IAFO,CAAV,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC9BP,QAAQ,CAACO,KAAK,CAACC,MAAN,CAAaT,KAAd,CAAR,CACAH,QAAQ,CAACE,KAAD,CAAQG,MAAR,CAAR,CACAG,YAAY,CAACK,OAAb,CAAqB,UAArB,CAAiC,IAAjC,EACD,CAJD,CAMA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACH,KAAD,CAAW,CAC9BA,KAAK,CAACI,cAAN,GAEA,GAAMC,CAAAA,IAAI,CAAGb,KAAK,CAACc,IAAN,EAAb,CAEA,GAAID,IAAI,CAACE,MAAL,CAAc,CAAlB,CAAqB,CACnBnB,WAAW,CAACO,KAAD,CAAQD,MAAR,CAAgB,CAAEW,IAAI,CAAJA,IAAF,CAAhB,CAAX,CACD,CAEDZ,QAAQ,CAAC,EAAD,CAAR,CACD,CAVD,CAYA,GAAMe,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACR,KAAD,CAAW,CAC9BZ,WAAW,CAACO,KAAD,CAAQD,MAAR,CAAgB,CAAEe,KAAK,CAAET,KAAK,CAACC,MAAN,CAAaQ,KAAtB,CAA6BJ,IAAI,CAAE,EAAnC,CAAhB,CAAX,CACD,CAFD,CAIA,mBACE,cAAM,SAAS,CAAC,cAAhB,CAA+B,QAAQ,CAAEF,YAAzC,wBACE,cACE,SAAS,CAAC,eADZ,CAEE,WAAW,CAAC,mBAFd,CAGE,KAAK,CAAEX,KAHT,CAIE,QAAQ,CAAEO,YAJZ,CAKE,QAAQ,CAAEI,YALZ,EADF,cAQE,cAAO,OAAO,CAAC,eAAf,uBACE,aAAM,SAAS,CAAC,cAAhB,uBACE,KAAC,eAAD,EAAiB,SAAS,CAAC,cAA3B,EADF,EADF,EARF,cAaE,cACE,IAAI,CAAC,MADP,CAEE,QAAQ,CAAE,KAFZ,CAGE,EAAE,CAAC,eAHL,CAIE,KAAK,CAAE,CAAEO,OAAO,CAAE,MAAX,CAJT,CAKE,QAAQ,CAAEF,YAAY,CAACG,IAAb,CAAkB,KAAlB,CALZ,EAbF,cAoBE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,aAAhC,uBACE,KAAC,YAAD,EAAc,SAAS,CAAC,WAAxB,EADF,EApBF,GADF,CA0BD,CAxDD,CA0DA,cAAerB,CAAAA,WAAf","sourcesContent":["import { useState } from 'react';\nimport { SendOutlined, PictureOutlined } from '@ant-design/icons';\nimport { sendMessage, isTyping } from 'react-chat-engine';\n\nconst MessageForm = (props) => {\n  const [value, setValue] = useState('');\n  const { chatId, creds } = props;\n\n  setTimeout(() => {\n    localStorage.removeItem('isTyping')\n  }, 1500);\n\n  const handleChange = (event) => {\n    setValue(event.target.value);\n    isTyping(props, chatId);\n    localStorage.setItem('isTyping', true);\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    const text = value.trim();\n\n    if (text.length > 0) {\n      sendMessage(creds, chatId, { text });\n    }\n\n    setValue('');\n  };\n\n  const handleUpload = (event) => {\n    sendMessage(creds, chatId, { files: event.target.files, text: '' });\n  };\n\n  return (\n    <form className=\"message-form\" onSubmit={handleSubmit}>\n      <input\n        className=\"message-input\"\n        placeholder=\"Send a message...\"\n        value={value}\n        onChange={handleChange}\n        onSubmit={handleSubmit}\n      />\n      <label htmlFor=\"upload-button\">\n        <span className=\"image-button\">\n          <PictureOutlined className=\"picture-icon\" />\n        </span>\n      </label>\n      <input\n        type=\"file\"\n        multiple={false}\n        id=\"upload-button\"\n        style={{ display: 'none' }}\n        onChange={handleUpload.bind(this)}\n      />\n      <button type=\"submit\" className=\"send-button\">\n        <SendOutlined className=\"send-icon\" />\n      </button>\n    </form>\n  );\n};\n\nexport default MessageForm;\n"]},"metadata":{},"sourceType":"module"}